{"ast":null,"code":"var _jsxFileName = \"/home/samarth/3-1/EST/project/EST_project/frontend/src/components/hotel.js\",\n    _s = $RefreshSig$();\n\nimport Button from \"@mui/material/Button\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport * as React from 'react';\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Card from '@mui/material/Card';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport CardContent from '@mui/material/CardContent';\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { styled } from '@mui/material/styles';\nimport axios from \"axios\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport moment from 'moment';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Hotel = props => {\n  _s();\n\n  const [hotel, sethotel] = useState([]);\n  const [booking, setbooking] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [hotelId, sethotelId] = useState(\"\");\n  const [hotelName, sethotelName] = useState(\"\");\n  const [hotelRoom, sethotelRoom] = useState(\"\");\n  const [hotelDetail, sethotelDetail] = useState(\"\");\n  const [numberofRooms, setnumberofRooms] = useState('');\n  const [roomstotal, setroomstotal] = useState('');\n  const [from, setfrom] = React.useState(moment(new Date()).format(\"YYYY-MM-DD\"));\n  const [to, setto] = React.useState(moment(new Date()).format(\"YYYY-MM-DD\"));\n  const Item = styled(Paper)(_ref => {\n    let {\n      theme\n    } = _ref;\n    return {\n      backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n      ...theme.typography.body2,\n      padding: theme.spacing(1),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    };\n  });\n  useEffect(() => {\n    axios.get(\"http://localhost:4000/hotel/\").then(response => {\n      sethotel(response.data);\n    }).catch(error => {});\n    axios.get(\"http://localhost:4000/booking/\").then(response => {\n      setbooking(response.data);\n    }).catch(error => {});\n  }, []);\n\n  const handleChange1 = event => {\n    setfrom(event.target.value);\n  };\n\n  const handleChange2 = event => {\n    setto(event.target.value);\n  };\n\n  const handleClickOpen = id => {\n    sethotelId(id.id);\n    sethotelName(id.name);\n    sethotelRoom(id.room_count);\n    sethotelDetail(id.detail);\n    setroomstotal(id.room_count);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChangeRoomNo = event => {\n    setnumberofRooms(event.target.value);\n  };\n\n  const handleRoomBook = () => {\n    if (roomstotal == 0) {\n      alert(\"No Room Available\");\n    } else if (roomstotal - numberofRooms < 0) {\n      alert(\"Not enough rooms available\");\n    } else {\n      const newUser1 = {\n        in: from,\n        out: to\n      };\n      var vari = false;\n      booking.forEach(users1 => {\n        if (users1.tourist_id == localStorage.getItem(\"tourist_id\")) {\n          var dateFrom = users1.check_in;\n          var dateTo = users1.check_out;\n          var dateCheck = newUser1.in;\n          var d1 = dateFrom.split(\"-\");\n          var d2 = dateTo.split(\"-\");\n          var c = dateCheck.split(\"-\");\n          var from = new Date(d1[0], parseInt(d1[1]) - 1, d1[2]);\n          var to = new Date(d2[0], parseInt(d2[1]) - 1, d2[2]);\n          var check = new Date(c[0], parseInt(c[1]) - 1, c[2]);\n          var checking1 = check >= from && check <= to;\n          var dateFrom1 = users1.check_in;\n          var dateTo1 = users1.check_out;\n          var dateCheck1 = newUser1.out;\n          var d11 = dateFrom1.split(\"-\");\n          var d21 = dateTo1.split(\"-\");\n          var c1 = dateCheck1.split(\"-\");\n          var from1 = new Date(d11[0], parseInt(d11[1]) - 1, d11[2]);\n          var to1 = new Date(d21[0], parseInt(d21[1]) - 1, d21[2]);\n          var check1 = new Date(c1[0], parseInt(c1[1]) - 1, c1[2]);\n          var checking2 = check1 >= from1 && check1 <= to1;\n\n          if (checking1 == true || checking2 == true) {\n            vari = true;\n          }\n        }\n      });\n\n      if (vari == true) {\n        alert(\"Travel dates clashing with another booking!\");\n      } else {\n        const newUser = {\n          tourist_id: localStorage.getItem(\"tourist_id\"),\n          hotel_id: hotelId,\n          check_in: from,\n          check_out: to,\n          no_of_room: numberofRooms,\n          hotel_name: hotelName\n        };\n        axios.post(\"http://localhost:4000/booking/book\", newUser).then(response => {\n          const newUser1 = {\n            id: hotelId,\n            rooms: roomstotal - numberofRooms\n          };\n          axios.post(\"http://localhost:4000/hotel/updateroom\", newUser1).then(response => {}).catch(res => {});\n          navigate('/booking');\n        }).catch(res => {});\n      }\n    }\n  };\n\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              cursor: \"pointer\"\n            },\n            onClick: () => navigate(\"/hotel\"),\n            children: \"Samarth Tourist Management Service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flexGrow: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"info\",\n            onClick: () => {},\n            children: \"Hotel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            onClick: () => navigate(\"/map\"),\n            children: \"Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"inherit\",\n            onClick: () => navigate(\"/booking\"),\n            children: \"Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"warning\",\n            onClick: () => navigate(\"/\"),\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      align: 'center',\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: hotel.map(user => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              maxWidth: 1520\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 3,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 55\n                    }, this), user.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 3,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Room Count\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 55\n                    }, this), user.room_count]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 3,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 55\n                    }, this), user.detail]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 3,\n                  children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    onClick: () => handleClickOpen({\n                      id: user._id,\n                      name: user.name,\n                      room_count: user.room_count,\n                      detail: user.detail\n                    }),\n                    children: \"Book Room\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      fullWidth: true,\n      maxWidth: \"lg\",\n      open: open,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Book Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 43\n                }, this), hotelName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Room Count\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 43\n                }, this), hotelRoom]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 43\n                }, this), hotelDetail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"Number of Rooms *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  required: true,\n                  value: numberofRooms,\n                  label: \"Number of Rooms\",\n                  onChange: handleChangeRoomNo,\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: 1,\n                    children: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: 2,\n                    children: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: 3,\n                    children: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"FROM\",\n                  type: \"date\",\n                  value: from,\n                  onChange: handleChange1,\n                  InputLabelProps: {\n                    shrink: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"TO\",\n                  type: \"date\",\n                  value: to,\n                  onChange: handleChange2,\n                  InputLabelProps: {\n                    shrink: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this), numberofRooms > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            handleRoomBook();\n          },\n          autoFocus: true,\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }, this), numberofRooms == 0 && /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Hotel, \"ZoYhe2Hpygr47ggh5YXgRQs5aeo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Hotel;\nexport default Hotel;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hotel\");","map":{"version":3,"sources":["/home/samarth/3-1/EST/project/EST_project/frontend/src/components/hotel.js"],"names":["Button","AppBar","Box","React","Toolbar","Typography","Card","Grid","Paper","CardContent","useNavigate","useEffect","useState","styled","axios","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","InputLabel","MenuItem","FormControl","Select","moment","TextField","Stack","Hotel","props","hotel","sethotel","booking","setbooking","open","setOpen","hotelId","sethotelId","hotelName","sethotelName","hotelRoom","sethotelRoom","hotelDetail","sethotelDetail","numberofRooms","setnumberofRooms","roomstotal","setroomstotal","from","setfrom","Date","format","to","setto","Item","theme","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","get","then","response","data","catch","error","handleChange1","event","target","value","handleChange2","handleClickOpen","id","name","room_count","detail","handleClose","handleChangeRoomNo","handleRoomBook","alert","newUser1","in","out","vari","forEach","users1","tourist_id","localStorage","getItem","dateFrom","check_in","dateTo","check_out","dateCheck","d1","split","d2","c","parseInt","check","checking1","dateFrom1","dateTo1","dateCheck1","d11","d21","c1","from1","to1","check1","checking2","newUser","hotel_id","no_of_room","hotel_name","post","rooms","res","navigate","flexGrow","cursor","map","user","maxWidth","_id","shrink"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA;;AACrB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACyB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC2B,SAAD,EAAYC,YAAZ,IAA4B5B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC6B,WAAD,EAAcC,cAAd,IAAgC9B,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC+B,aAAD,EAAgBC,gBAAhB,IAAoChC,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACiC,UAAD,EAAaC,aAAb,IAA8BlC,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmC,IAAD,EAAOC,OAAP,IAAkB7C,KAAK,CAACS,QAAN,CAAeY,MAAM,CAAC,IAAIyB,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B,CAAf,CAAxB;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcjD,KAAK,CAACS,QAAN,CAAeY,MAAM,CAAC,IAAIyB,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B,CAAf,CAApB;AAEA,QAAMG,IAAI,GAAGxC,MAAM,CAACL,KAAD,CAAN,CAAc;AAAA,QAAC;AAAE8C,MAAAA;AAAF,KAAD;AAAA,WAAgB;AACvCC,MAAAA,eAAe,EAAED,KAAK,CAACE,OAAN,CAAcC,IAAd,KAAuB,MAAvB,GAAgC,SAAhC,GAA4C,MADtB;AAEvC,SAAGH,KAAK,CAACI,UAAN,CAAiBC,KAFmB;AAGvCC,MAAAA,OAAO,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CAH8B;AAIvCC,MAAAA,SAAS,EAAE,QAJ4B;AAKvCC,MAAAA,KAAK,EAAET,KAAK,CAACE,OAAN,CAAcQ,IAAd,CAAmBC;AALa,KAAhB;AAAA,GAAd,CAAb;AASAtD,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,KAAK,CACAoD,GADL,CACS,8BADT,EAEKC,IAFL,CAEWC,QAAD,IAAc;AAChBtC,MAAAA,QAAQ,CAACsC,QAAQ,CAACC,IAAV,CAAR;AACH,KAJL,EAKKC,KALL,CAKYC,KAAD,IAAW,CACjB,CANL;AAOAzD,IAAAA,KAAK,CACAoD,GADL,CACS,gCADT,EAEKC,IAFL,CAEWC,QAAD,IAAc;AAChBpC,MAAAA,UAAU,CAACoC,QAAQ,CAACC,IAAV,CAAV;AACH,KAJL,EAKKC,KALL,CAKYC,KAAD,IAAW,CACjB,CANL;AAOH,GAfQ,EAeN,EAfM,CAAT;;AAgBA,QAAMC,aAAa,GAAIC,KAAD,IAAW;AAC7BzB,IAAAA,OAAO,CAACyB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AAEH,GAHD;;AAIA,QAAMC,aAAa,GAAIH,KAAD,IAAW;AAC7BrB,IAAAA,KAAK,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAL;AACH,GAFD;;AAIA,QAAME,eAAe,GAAIC,EAAD,IAAQ;AAC5B1C,IAAAA,UAAU,CAAC0C,EAAE,CAACA,EAAJ,CAAV;AACAxC,IAAAA,YAAY,CAACwC,EAAE,CAACC,IAAJ,CAAZ;AACAvC,IAAAA,YAAY,CAACsC,EAAE,CAACE,UAAJ,CAAZ;AACAtC,IAAAA,cAAc,CAACoC,EAAE,CAACG,MAAJ,CAAd;AACAnC,IAAAA,aAAa,CAACgC,EAAE,CAACE,UAAJ,CAAb;AACA9C,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAPD;;AASA,QAAMgD,WAAW,GAAG,MAAM;AACtBhD,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMiD,kBAAkB,GAAIV,KAAD,IAAW;AAClC7B,IAAAA,gBAAgB,CAAC6B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB;AACH,GAFD;;AAIA,QAAMS,cAAc,GAAG,MAAM;AACzB,QAAIvC,UAAU,IAAI,CAAlB,EAAqB;AACjBwC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACH,KAFD,MAGK,IAAIxC,UAAU,GAAGF,aAAb,GAA6B,CAAjC,EAAoC;AACrC0C,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACH,KAFI,MAGA;AACD,YAAMC,QAAQ,GAAG;AACbC,QAAAA,EAAE,EAAExC,IADS;AAEbyC,QAAAA,GAAG,EAAErC;AAFQ,OAAjB;AAIA,UAAIsC,IAAI,GAAG,KAAX;AACA1D,MAAAA,OAAO,CAAC2D,OAAR,CAAiBC,MAAD,IAAY;AACxB,YAAIA,MAAM,CAACC,UAAP,IAAqBC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAzB,EAA6D;AACzD,cAAIC,QAAQ,GAAGJ,MAAM,CAACK,QAAtB;AACA,cAAIC,MAAM,GAAGN,MAAM,CAACO,SAApB;AACA,cAAIC,SAAS,GAAGb,QAAQ,CAACC,EAAzB;AACA,cAAIa,EAAE,GAAGL,QAAQ,CAACM,KAAT,CAAe,GAAf,CAAT;AACA,cAAIC,EAAE,GAAGL,MAAM,CAACI,KAAP,CAAa,GAAb,CAAT;AACA,cAAIE,CAAC,GAAGJ,SAAS,CAACE,KAAV,CAAgB,GAAhB,CAAR;AACA,cAAItD,IAAI,GAAG,IAAIE,IAAJ,CAASmD,EAAE,CAAC,CAAD,CAAX,EAAgBI,QAAQ,CAACJ,EAAE,CAAC,CAAD,CAAH,CAAR,GAAkB,CAAlC,EAAqCA,EAAE,CAAC,CAAD,CAAvC,CAAX;AACA,cAAIjD,EAAE,GAAG,IAAIF,IAAJ,CAASqD,EAAE,CAAC,CAAD,CAAX,EAAgBE,QAAQ,CAACF,EAAE,CAAC,CAAD,CAAH,CAAR,GAAkB,CAAlC,EAAqCA,EAAE,CAAC,CAAD,CAAvC,CAAT;AACA,cAAIG,KAAK,GAAG,IAAIxD,IAAJ,CAASsD,CAAC,CAAC,CAAD,CAAV,EAAeC,QAAQ,CAACD,CAAC,CAAC,CAAD,CAAF,CAAR,GAAiB,CAAhC,EAAmCA,CAAC,CAAC,CAAD,CAApC,CAAZ;AACA,cAAIG,SAAS,GAAGD,KAAK,IAAI1D,IAAT,IAAiB0D,KAAK,IAAItD,EAA1C;AAEA,cAAIwD,SAAS,GAAGhB,MAAM,CAACK,QAAvB;AACA,cAAIY,OAAO,GAAGjB,MAAM,CAACO,SAArB;AACA,cAAIW,UAAU,GAAGvB,QAAQ,CAACE,GAA1B;AACA,cAAIsB,GAAG,GAAGH,SAAS,CAACN,KAAV,CAAgB,GAAhB,CAAV;AACA,cAAIU,GAAG,GAAGH,OAAO,CAACP,KAAR,CAAc,GAAd,CAAV;AACA,cAAIW,EAAE,GAAGH,UAAU,CAACR,KAAX,CAAiB,GAAjB,CAAT;AACA,cAAIY,KAAK,GAAG,IAAIhE,IAAJ,CAAS6D,GAAG,CAAC,CAAD,CAAZ,EAAiBN,QAAQ,CAACM,GAAG,CAAC,CAAD,CAAJ,CAAR,GAAmB,CAApC,EAAuCA,GAAG,CAAC,CAAD,CAA1C,CAAZ;AACA,cAAII,GAAG,GAAG,IAAIjE,IAAJ,CAAS8D,GAAG,CAAC,CAAD,CAAZ,EAAiBP,QAAQ,CAACO,GAAG,CAAC,CAAD,CAAJ,CAAR,GAAmB,CAApC,EAAuCA,GAAG,CAAC,CAAD,CAA1C,CAAV;AACA,cAAII,MAAM,GAAG,IAAIlE,IAAJ,CAAS+D,EAAE,CAAC,CAAD,CAAX,EAAgBR,QAAQ,CAACQ,EAAE,CAAC,CAAD,CAAH,CAAR,GAAkB,CAAlC,EAAqCA,EAAE,CAAC,CAAD,CAAvC,CAAb;AACA,cAAII,SAAS,GAAGD,MAAM,IAAIF,KAAV,IAAmBE,MAAM,IAAID,GAA7C;;AACA,cAAIR,SAAS,IAAI,IAAb,IAAqBU,SAAS,IAAI,IAAtC,EAA4C;AACxC3B,YAAAA,IAAI,GAAG,IAAP;AACH;AACJ;AACJ,OA3BD;;AA4BA,UAAIA,IAAI,IAAI,IAAZ,EAAkB;AACdJ,QAAAA,KAAK,CAAC,6CAAD,CAAL;AACH,OAFD,MAGK;AACD,cAAMgC,OAAO,GAAG;AACZzB,UAAAA,UAAU,EAAEC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADA;AAEZwB,UAAAA,QAAQ,EAAEnF,OAFE;AAGZ6D,UAAAA,QAAQ,EAAEjD,IAHE;AAIZmD,UAAAA,SAAS,EAAE/C,EAJC;AAKZoE,UAAAA,UAAU,EAAE5E,aALA;AAMZ6E,UAAAA,UAAU,EAAEnF;AANA,SAAhB;AAQAvB,QAAAA,KAAK,CACA2G,IADL,CACU,oCADV,EACgDJ,OADhD,EAEKlD,IAFL,CAEWC,QAAD,IAAc;AAChB,gBAAMkB,QAAQ,GAAG;AACbR,YAAAA,EAAE,EAAE3C,OADS;AAEbuF,YAAAA,KAAK,EAAE7E,UAAU,GAAGF;AAFP,WAAjB;AAIA7B,UAAAA,KAAK,CACA2G,IADL,CACU,wCADV,EACoDnC,QADpD,EAEKnB,IAFL,CAEWC,QAAD,IAAc,CACnB,CAHL,EAIKE,KAJL,CAIYqD,GAAD,IAAS,CACf,CALL;AAOAC,UAAAA,QAAQ,CAAC,UAAD,CAAR;AACH,SAfL,EAgBKtD,KAhBL,CAgBYqD,GAAD,IAAS,CACf,CAjBL;AAmBH;AACJ;AACJ,GA1ED;;AA2EA,QAAMC,QAAQ,GAAGlH,WAAW,EAA5B;AAEA,sBACI;AAAA,4BACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEmH,QAAAA,QAAQ,EAAE;AAAZ,OAAT;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,QAAjB;AAAA,+BACI,QAAC,OAAD;AAAA,kCACI,QAAC,UAAD;AACI,YAAA,OAAO,EAAC,IADZ;AAEI,YAAA,SAAS,EAAC,KAFd;AAGI,YAAA,EAAE,EAAE;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAHR;AAII,YAAA,OAAO,EAAE,MAAMF,QAAQ,CAAC,QAAD,CAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eASI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE;AAAEC,cAAAA,QAAQ,EAAE;AAAZ;AAAT;AAAA;AAAA;AAAA;AAAA,kBATJ,eAUI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,MAAlC;AAAyC,YAAA,OAAO,EAAE,MAAM,CAAG,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAaI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,SAAd;AAAwB,YAAA,OAAO,EAAE,MAAMD,QAAQ,CAAC,MAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbJ,eAgBI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,SAAd;AAAwB,YAAA,OAAO,EAAE,MAAMA,QAAQ,CAAC,UAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBJ,eAmBI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,SAAd;AAAwB,YAAA,OAAO,EAAE,MAAMA,QAAQ,CAAC,GAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eA4BI;AAAA;AAAA;AAAA;AAAA,YA5BJ,eA6BI;AAAA;AAAA;AAAA;AAAA,YA7BJ,eA8BI,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,KAAK,EAAE,QAAvB;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,kBACK/F,KAAK,CAACkG,GAAN,CAAWC,IAAD,iBACP;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE;AAAEC,cAAAA,QAAQ,EAAE;AAAZ,aAAV;AAAA,mCACI,QAAC,WAAD;AAAA,qCACI,QAAC,IAAD;AAAM,gBAAA,SAAS,MAAf;AAAgB,gBAAA,OAAO,EAAE,CAAzB;AAAA,wCACI,QAAC,IAAD;AAAM,kBAAA,IAAI,MAAV;AAAW,kBAAA,EAAE,EAAE,CAAf;AAAA,yCACI,QAAC,IAAD;AAAA,4CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,4BAFV,EAGKD,IAAI,CAACjD,IAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADJ,eAQI,QAAC,IAAD;AAAM,kBAAA,IAAI,MAAV;AAAW,kBAAA,EAAE,EAAE,CAAf;AAAA,yCACI,QAAC,IAAD;AAAA,4CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,4BAFV,EAGKiD,IAAI,CAAChD,UAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBARJ,eAeI,QAAC,IAAD;AAAM,kBAAA,IAAI,MAAV;AAAW,kBAAA,EAAE,EAAE,CAAf;AAAA,yCACI,QAAC,IAAD;AAAA,4CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,4BAFV,EAGKgD,IAAI,CAAC/C,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAfJ,eAsBI,QAAC,IAAD;AAAM,kBAAA,IAAI,MAAV;AAAW,kBAAA,EAAE,EAAE,CAAf;AAAA,0CACI;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,MAAD;AAAQ,oBAAA,OAAO,EAAC,WAAhB;AAA4B,oBAAA,OAAO,EAAE,MACjCJ,eAAe,CAAC;AAAEC,sBAAAA,EAAE,EAAEkD,IAAI,CAACE,GAAX;AAAgBnD,sBAAAA,IAAI,EAAEiD,IAAI,CAACjD,IAA3B;AAAiCC,sBAAAA,UAAU,EAAEgD,IAAI,CAAChD,UAAlD;AAA8DC,sBAAAA,MAAM,EAAE+C,IAAI,CAAC/C;AAA3E,qBAAD,CADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAoCI;AAAA;AAAA;AAAA;AAAA,kBApCJ;AAAA,wBADH;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA9BJ,eA0EI,QAAC,MAAD;AACI,MAAA,SAAS,EAAE,IADf;AAEI,MAAA,QAAQ,EAAC,IAFb;AAGI,MAAA,IAAI,EAAEhD,IAHV;AAII,MAAA,OAAO,EAAEiD,WAJb;AAAA,8BAMI,QAAC,WAAD;AAAA,kBACK;AADL;AAAA;AAAA;AAAA;AAAA,cANJ,eASI,QAAC,aAAD;AAAA,+BACI,QAAC,iBAAD;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAE,CAAzB;AAAA,oCACI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,IAAD;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,wBAFV,EAGK7C,SAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAQI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,IAAD;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,wBAFV,EAGKE,SAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBARJ,eAeI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,IAAD;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAEU;AAAA;AAAA;AAAA;AAAA,wBAFV,EAGKE,WAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAwBI;AAAA;AAAA;AAAA;AAAA,kBAxBJ,eAyBI,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAE,CAAzB;AAAA,oCACI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,WAAD;AAAa,gBAAA,SAAS,MAAtB;AAAA,wCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,MAAD;AACI,kBAAA,QAAQ,MADZ;AAEI,kBAAA,KAAK,EAAEE,aAFX;AAGI,kBAAA,KAAK,EAAC,iBAHV;AAII,kBAAA,QAAQ,EAAEwC,kBAJd;AAAA,0CAMI,QAAC,QAAD;AAAU,oBAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,eAOI,QAAC,QAAD;AAAU,oBAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPJ,eAQI,QAAC,QAAD;AAAU,oBAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAgBI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,KAAD;AAAA,uCACI,QAAC,SAAD;AACI,kBAAA,KAAK,EAAC,MADV;AAEI,kBAAA,IAAI,EAAC,MAFT;AAGI,kBAAA,KAAK,EAAEpC,IAHX;AAII,kBAAA,QAAQ,EAAEyB,aAJd;AAKI,kBAAA,eAAe,EAAE;AACb2D,oBAAAA,MAAM,EAAE;AADK;AALrB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAhBJ,eA8BI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,qCACI,QAAC,KAAD;AAAA,uCACI,QAAC,SAAD;AACI,kBAAA,KAAK,EAAC,IADV;AAEI,kBAAA,IAAI,EAAC,MAFT;AAGI,kBAAA,KAAK,EAAEhF,EAHX;AAII,kBAAA,QAAQ,EAAEyB,aAJd;AAKI,kBAAA,eAAe,EAAE;AACbuD,oBAAAA,MAAM,EAAE;AADK;AALrB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cATJ,eAiFI,QAAC,aAAD;AAAA,gCACI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAEjD,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKvC,aAAa,GAAG,CAAhB,iBACG,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,MAAM;AAAEyC,YAAAA,cAAc;AAAI,WAA3C;AAA6C,UAAA,SAAS,MAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR,EAOKzC,aAAa,IAAI,CAAjB,iBACG,QAAC,MAAD;AAAQ,UAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARR;AAAA;AAAA;AAAA;AAAA;AAAA,cAjFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA1EJ;AAAA,kBADJ;AA4KH,CAxTD;;GAAMhB,K;UA0IejB,W;;;KA1IfiB,K;AA0TN,eAAeA,KAAf","sourcesContent":["import Button from \"@mui/material/Button\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport * as React from 'react';\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Card from '@mui/material/Card';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport CardContent from '@mui/material/CardContent';\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\"\nimport { styled } from '@mui/material/styles';\nimport axios from \"axios\"\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport moment from 'moment';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\n\nconst Hotel = (props) => {\n    const [hotel, sethotel] = useState([]);\n    const [booking, setbooking] = useState([]);\n    const [open, setOpen] = useState(false);\n    const [hotelId, sethotelId] = useState(\"\");\n    const [hotelName, sethotelName] = useState(\"\");\n    const [hotelRoom, sethotelRoom] = useState(\"\");\n    const [hotelDetail, sethotelDetail] = useState(\"\");\n    const [numberofRooms, setnumberofRooms] = useState('');\n    const [roomstotal, setroomstotal] = useState('');\n    const [from, setfrom] = React.useState(moment(new Date()).format(\"YYYY-MM-DD\"));\n    const [to, setto] = React.useState(moment(new Date()).format(\"YYYY-MM-DD\"));\n\n    const Item = styled(Paper)(({ theme }) => ({\n        backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n        ...theme.typography.body2,\n        padding: theme.spacing(1),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n    }));\n\n\n    useEffect(() => {\n        axios\n            .get(\"http://localhost:4000/hotel/\")\n            .then((response) => {\n                sethotel(response.data);\n            })\n            .catch((error) => {\n            });\n        axios\n            .get(\"http://localhost:4000/booking/\")\n            .then((response) => {\n                setbooking(response.data);\n            })\n            .catch((error) => {\n            });\n    }, []);\n    const handleChange1 = (event) => {\n        setfrom(event.target.value);\n\n    };\n    const handleChange2 = (event) => {\n        setto(event.target.value);\n    };\n\n    const handleClickOpen = (id) => {\n        sethotelId(id.id);\n        sethotelName(id.name);\n        sethotelRoom(id.room_count);\n        sethotelDetail(id.detail);\n        setroomstotal(id.room_count);\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleChangeRoomNo = (event) => {\n        setnumberofRooms(event.target.value);\n    };\n\n    const handleRoomBook = () => {\n        if (roomstotal == 0) {\n            alert(\"No Room Available\");\n        }\n        else if (roomstotal - numberofRooms < 0) {\n            alert(\"Not enough rooms available\")\n        }\n        else {\n            const newUser1 = {\n                in: from,\n                out: to,\n            };\n            var vari = false;\n            booking.forEach((users1) => {\n                if (users1.tourist_id == localStorage.getItem(\"tourist_id\")) {\n                    var dateFrom = users1.check_in;\n                    var dateTo = users1.check_out;\n                    var dateCheck = newUser1.in;\n                    var d1 = dateFrom.split(\"-\");\n                    var d2 = dateTo.split(\"-\");\n                    var c = dateCheck.split(\"-\");\n                    var from = new Date(d1[0], parseInt(d1[1]) - 1, d1[2]);\n                    var to = new Date(d2[0], parseInt(d2[1]) - 1, d2[2]);\n                    var check = new Date(c[0], parseInt(c[1]) - 1, c[2]);\n                    var checking1 = check >= from && check <= to;\n\n                    var dateFrom1 = users1.check_in;\n                    var dateTo1 = users1.check_out;\n                    var dateCheck1 = newUser1.out;\n                    var d11 = dateFrom1.split(\"-\");\n                    var d21 = dateTo1.split(\"-\");\n                    var c1 = dateCheck1.split(\"-\");\n                    var from1 = new Date(d11[0], parseInt(d11[1]) - 1, d11[2]);\n                    var to1 = new Date(d21[0], parseInt(d21[1]) - 1, d21[2]);\n                    var check1 = new Date(c1[0], parseInt(c1[1]) - 1, c1[2]);\n                    var checking2 = check1 >= from1 && check1 <= to1;\n                    if (checking1 == true || checking2 == true) {\n                        vari = true;\n                    }\n                }\n            })\n            if (vari == true) {\n                alert(\"Travel dates clashing with another booking!\");\n            }\n            else {\n                const newUser = {\n                    tourist_id: localStorage.getItem(\"tourist_id\"),\n                    hotel_id: hotelId,\n                    check_in: from,\n                    check_out: to,\n                    no_of_room: numberofRooms,\n                    hotel_name: hotelName,\n                };\n                axios\n                    .post(\"http://localhost:4000/booking/book\", newUser)\n                    .then((response) => {\n                        const newUser1 = {\n                            id: hotelId,\n                            rooms: roomstotal - numberofRooms,\n                        };\n                        axios\n                            .post(\"http://localhost:4000/hotel/updateroom\", newUser1)\n                            .then((response) => {\n                            })\n                            .catch((res) => {\n                            }\n                            );\n                        navigate('/booking')\n                    })\n                    .catch((res) => {\n                    }\n                    );\n            }\n        }\n    }\n    const navigate = useNavigate();\n\n    return (\n        <>\n            <Box sx={{ flexGrow: 1 }}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Typography\n                            variant=\"h6\"\n                            component=\"div\"\n                            sx={{ cursor: \"pointer\" }}\n                            onClick={() => navigate(\"/hotel\")}\n                        >\n                            Samarth Tourist Management Service\n                        </Typography>\n                        <Box sx={{ flexGrow: 1 }} />\n                        <Button variant=\"contained\" color=\"info\" onClick={() => { }}>\n                            Hotel\n                        </Button>\n                        <Button color=\"inherit\" onClick={() => navigate(\"/map\")}>\n                            Map\n                        </Button>\n                        <Button color=\"inherit\" onClick={() => navigate(\"/booking\")}>\n                            Booking\n                        </Button>\n                        <Button color=\"warning\" onClick={() => navigate(\"/\")}>\n                            Logout\n                        </Button>\n                    </Toolbar>\n                </AppBar>\n            </Box>\n            <br />\n            <br />\n            <Grid container align={'center'}>\n                <Grid item xs={12}>\n                    {hotel.map((user) => (\n                        <>\n                            <Card sx={{ maxWidth: 1520 }}>\n                                <CardContent>\n                                    <Grid container spacing={2}>\n                                        <Grid item xs={3}>\n                                            <Item>\n                                                <b>Name</b>\n                                                <br /><br />\n                                                {user.name}\n                                            </Item>\n                                        </Grid>\n                                        <Grid item xs={3}>\n                                            <Item>\n                                                <b>Room Count</b>\n                                                <br /><br />\n                                                {user.room_count}\n                                            </Item>\n                                        </Grid>\n                                        <Grid item xs={3}>\n                                            <Item>\n                                                <b>Details</b>\n                                                <br /><br />\n                                                {user.detail}\n                                            </Item>\n                                        </Grid>\n                                        <Grid item xs={3}>\n                                            <br />\n                                            <Button variant=\"contained\" onClick={() =>\n                                                handleClickOpen({ id: user._id, name: user.name, room_count: user.room_count, detail: user.detail })\n                                            }>\n                                                Book Room\n                                            </Button>\n                                        </Grid>\n                                    </Grid>\n                                </CardContent>\n                            </Card>\n                            <br />\n                        </>\n                    ))}\n                </Grid>\n            </Grid>\n            <Dialog\n                fullWidth={true}\n                maxWidth=\"lg\"\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>\n                    {\"Book Room\"}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <Grid container spacing={2}>\n                            <Grid item xs={4}>\n                                <Item>\n                                    <b>Name</b>\n                                    <br /><br />\n                                    {hotelName}\n                                </Item>\n                            </Grid>\n                            <Grid item xs={4}>\n                                <Item>\n                                    <b>Room Count</b>\n                                    <br /><br />\n                                    {hotelRoom}\n                                </Item>\n                            </Grid>\n                            <Grid item xs={4}>\n                                <Item>\n                                    <b>Details</b>\n                                    <br /><br />\n                                    {hotelDetail}\n                                </Item>\n                            </Grid>\n                        </Grid>\n                        <br />\n                        <Grid container spacing={2}>\n                            <Grid item xs={4}>\n                                <FormControl fullWidth>\n                                    <InputLabel>Number of Rooms *</InputLabel>\n                                    <Select\n                                        required\n                                        value={numberofRooms}\n                                        label=\"Number of Rooms\"\n                                        onChange={handleChangeRoomNo}\n                                    >\n                                        <MenuItem value={1}>1</MenuItem>\n                                        <MenuItem value={2}>2</MenuItem>\n                                        <MenuItem value={3}>3</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item xs={4}>\n                                <Stack>\n                                    <TextField\n                                        label=\"FROM\"\n                                        type=\"date\"\n                                        value={from}\n                                        onChange={handleChange1}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n\n                                    />\n                                </Stack>\n                            </Grid>\n                            <Grid item xs={4}>\n                                <Stack>\n                                    <TextField\n                                        label=\"TO\"\n                                        type=\"date\"\n                                        value={to}\n                                        onChange={handleChange2}\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </Stack>\n                            </Grid>\n                        </Grid>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose}>Cancel</Button>\n                    {numberofRooms > 0 &&\n                        <Button onClick={() => { handleRoomBook() }} autoFocus>\n                            Book\n                        </Button>\n                    }\n                    {numberofRooms == 0 &&\n                        <Button disabled >\n                            Book\n                        </Button>\n                    }\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n};\n\nexport default Hotel;\n"]},"metadata":{},"sourceType":"module"}